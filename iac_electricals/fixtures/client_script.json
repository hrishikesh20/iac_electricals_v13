[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Work Order",
  "enabled": 0,
  "modified": "2022-01-11 11:52:53.508018",
  "name": "Work Order-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Work Order', {                          \n//     onload_post_render: function(frm){                      \n//         frm.remove_custom_button('Create Job Card')\n//         }\n//     }\n// );\nfrappe.ui.form.on('Work Order', {                          \n    refresh: function(frm){                      \n        frm.remove_custom_button('Create Job Card')\n        }\n    }\n);\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Stock Entry",
  "enabled": 1,
  "modified": "2021-11-16 18:39:47.144259",
  "name": "Stock Entry-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Stock Entry', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t}\n// })\nfrappe.ui.form.on(\"Stock Entry Detail\", \"qty_stock\", function(frm, cdt, cdn) {\n$.each(frm.doc.items || [], function(i, d) {\nif (d.stock_uom!=d.uom){    \nd.conversion_factor=d.qty_stock/d.qty;\n//d.rate=d.rate_kg*d.conversion_factor;\nd.amount_kg=d.rate_kg*d.qty_stock;\n}\nelse{\n d.conversion_factor=1;\n d.qty_stock=d.qty;\n//d.rate=d.rate_kg*d.conversion_factor;\nd.amount_kg=d.rate_kg*d.qty_stock;\n}\n});\nrefresh_field(\"items\");\n});\nfrappe.ui.form.on(\"Stock Entry Detail\", \"conversion_factor\", function(frm, cdt, cdn) {\n$.each(frm.doc.items || [], function(i, d) {\n//d.rate=d.rate_kg*d.conversion_factor;\nd.qty_stock=d.qty*d.conversion_factor;\nd.amount_kg=d.rate_kg*d.qty_stock;\n});\nrefresh_field(\"items\");\n})\nfrappe.ui.form.on(\"Stock Entry Detail\", \"rate_kg\", function(frm, cdt, cdn) {\n$.each(frm.doc.items || [], function(i, d) {\nd.amount_kg=d.rate_kg*d.qty_stock;\n});\n});\n// frappe.ui.form.on(\"Stock Entry Detail\", \"conversion_factor\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.amount_kg=d.rate_kg*d.qty_stock;\n// });\n// })\nfrappe.ui.form.on(\"Stock Entry\", \"validate\", function(frm, cdt, cdn) {\n$.each(frm.doc.items || [], function(i, d) {\nif (d.stock_uom!=d.uom){    \nd.conversion_factor=d.qty_stock/d.qty;\n//d.rate=d.rate_kg*d.conversion_factor;\nd.amount_kg=d.rate_kg*d.qty_stock;\n}\nelse{\n d.conversion_factor=1;\n d.qty_stock=d.qty;\n//d.rate=d.rate_kg*d.conversion_factor;\nd.amount_kg=d.rate_kg*d.qty_stock;\n}\n});    \n\n//});\nrefresh_field(\"items\");\n })\n\n// frappe.ui.form.on(\"Stock Entry\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.amount_kg=d.rate_kg*d.transfer_qty;\n// });\n//  })\n \n frappe.ui.form.on(\"Stock Entry\", {\n\tvalidate: function(frm, cdt, cdn) {\n\t\tvar d = locals[cdt][cdn];\n\t\tvar total = 0;\nfrappe.model.set_value(d.doctype, d.name, \"amount_kg\", d.amount_kg);        \nfrm.doc.items.forEach(function(d) { total += d.amount_kg; });\n        frm.set_value('total_value', total);\n\t}\n});\n\nfrappe.ui.form.on(\"Stock Entry\", \"validate\", function(frm) {\nvar tot=0;\nfor (var i =0; i < cur_frm.doc.taxes.length; i++){\ncur_frm.doc.taxes[i].tax_amount=cur_frm.doc.total_value*(cur_frm.doc.taxes[i].rate/100)\ntot+=cur_frm.doc.taxes[i].tax_amount;\n}\ncur_frm.doc.grand_total=cur_frm.doc.total_value+tot;\n});",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Quotation",
  "enabled": 1,
  "modified": "2021-06-11 15:59:23.647856",
  "name": "Quotation-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Quotation', {\n\tvalidate(frm) {\n        var total = 0;\n        $.each(frm.doc.items || [], function (i, d) {\n        console.log(\"Freight:\", d.unit_freight);\n        if (d.unit_freight) {\n            total = total + (d.qty * d.unit_freight);\n        }\n        total = total.toFixed(2); // Set recurring decimal limit\n        console.log(\"Total Value\", total);\n        });\n        var charges = frm.add_child(\"taxes\");\n        frappe.model.set_value(charges.doctype,charges.name,\"charge_type\",\"Actual\");\n        frappe.model.set_value(charges.doctype,charges.name,\"account_head\",\"Freight and Forwarding Charges - IEPL\");\n        frappe.model.set_value(charges.doctype,charges.name,\"description\",\"Unit Freight Computed\");\n        frappe.model.set_value(charges.doctype,charges.name,\"tax_amount\",total);\n        cur_frm.refresh_field(\"taxes\");\n    }\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "BOM",
  "enabled": 1,
  "modified": "2022-02-07 11:06:39.184228",
  "name": "BOM-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('BOM', {\n\trefresh(frm) {\ncur_frm.fields_dict.item.get_query = function(doc) {\n\treturn {\n//\t\tfilters: {\n// \t\t\titem_group:[\"Processed Fabric\"]\n            // item_group: [\"!=\", \"Processed Fabric\",],\nfilters: [[\"item_group\", \"not in\", [ 'RM' , 'BUNDLE ITEM','BO']]]\n\t}\n}\t}\n})\n\n\n// frappe.ui.form.on(\"BOM\", {\n// \tvalidate: function(frm) {\n// \t    if (frm.doc.__islocal) {\n// \t\tfrappe.call({\n// \t\t\t\"method\": \"frappe.client.get\",\n// \t\t\t\"args\": {\n// \t\t\t\t\"doctype\": \"BOM\",\n// \t\t\t\tfieldname: \"item\",\n// \t\t\t\tfilters: { item: frm.doc.item , docstatus: [\"!=\", \"2\"],},\n// \t\t\t},\n// \t\t\t\"callback\": function(response) {\n// \t\t\t\tvar sinv = response.message;\n\n// \t\t\t\tif (sinv) {\n// \t\t\t\t\tfrappe.msgprint(\"BOM Already Exists for this Item: \" + sinv.name);\n// \t\t\t\t\tfrappe.validated=false;\n// \t\t\t\t} else {\n//                     frappe.validated=True;\t\t\t\t}\n// \t\t\t}\n// \t\t});\n// \t}\n// \t}\n// });",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Price Schedule",
  "enabled": 0,
  "modified": "2021-12-22 18:38:51.746803",
  "name": "Price Schedule-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "frappe.ui.form.on('Price Schedule', {\n\trefresh(frm) {\n\t\tconsole.log('hiiiiiiiiiiiiiiiiiiiiiiiii');\n\t},\n\t\n\tparty_name:function(frm) {\n\t   if (frm.doc.party_name) {\n\t       frappe.call({\n            method: \"iac_electricals.iac_electricals.doctype.price_schedule.price_schedule.get_utility\",\n            args: {\"party_name\":frm.doc.party_name},\n            callback: function(r) {console.log('r',r.message,'r');\n\t            if (r.message){ console.log('Add Row in Items');\n\n\t\t          frm.doc.select_utility = r.message;\n\t\t              \n\t            \t\n\t               \n\t             \n\t\t          \n\t            }\n\t            cur_frm.refresh_fields(\"select_utility\");\n            }\n        });\n\n\t   \n\t    \n\t   } \n\t \n\t   \n\t}\n})\n\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Receipt",
  "enabled": 1,
  "modified": "2021-12-27 19:19:05.685356",
  "name": "Purchase Receipt-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Purchase Receipt', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t}\n// })\n// frappe.ui.form.on(\"Purchase Receipt Item\", \"qty_stock\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){    \n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*(d.qty_stock/d.qty);\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// });\n// refresh_field(\"items\");\n// })\n// // frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// // $.each(frm.doc.items || [], function(i, d) {\n// // if (d.stock_uom!=d.uom){\n// // d.conversion_factor=d.qty_stock/d.qty;\n// // }\n// // else{\n// //  d.conversion_factor=1;\n// //  d.qty_stock=d.qty;\n// // }\n// // });\n// // refresh_field(\"items\");\n// // })\n\n// frappe.ui.form.on(\"Purchase Receipt Item\", \"rate_kg\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// });\n// refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Receipt Item\", \"conversion_factor\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.qty_stock=d.qty*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.stock_qty*d.rate_kg;\n// });\n// //refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Receipt\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){\n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// });    \n\n// //});\n// refresh_field(\"items\");\n//  })",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Invoice",
  "enabled": 1,
  "modified": "2021-12-30 19:32:44.253982",
  "name": "Purchase Invoice-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Purchase Invoice', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t}\n// })\n// frappe.ui.form.on(\"Purchase Invoice Item\", \"qty_stock\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){    \n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*(d.qty_stock/d.qty);\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// });\n// refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){\n// d.conversion_factor=d.qty_stock/d.qty;\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n// }\n// });\n// refresh_field(\"items\");\n// })\n\n// frappe.ui.form.on(\"Purchase Invoice Item\", \"rate_kg\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// });\n// refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Invoice Item\", \"conversion_factor\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.qty_stock=d.qty*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.stock_qty*d.rate_kg;\n// });\n// //refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Invoice\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){\n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// });    \n\n//});\n// refresh_field(\"items\");\n//  })\n\n\n// frappe.ui.form.on(\"Purchase Invoice\", {\n// \tvalidate: function(frm) {\n// \t    if (frm.doc.__islocal) {\n// \t\tfrappe.call({\n// \t\t\t\"method\": \"frappe.client.get_value\",\n// \t\t\t\"args\": {\n// \t\t\t\t\"doctype\": \"Purchase Invoice\",\n// \t\t\t\tfieldname: \"lr_no\",\n// \t\t\t\tfilters: { lr_no: frm.doc.lr_no , docstatus: [\"!=\", \"2\"],},\n// \t\t\t},\n// \t\t\t\"callback\": function(response) {\n// \t\t\t\tvar pinv = response.message;\n\n// \t\t\t\tif (pinv) {\n// \t\t\t\t\tfrappe.msgprint(\"LR No Already Exists for this Purchase Invoice: \" + pinv.name);\n// \t\t\t\t\tfrappe.validated=false;\n// \t\t\t\t} else {\n//                     frappe.validated=True;\t\t\t\t}\n// \t\t\t}\n// \t\t});\n// \t}\n// \t}\n// });",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Supplier Quotation",
  "enabled": 1,
  "modified": "2021-12-27 19:22:21.582131",
  "name": "Supplier Quotation-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Supplier Quotation', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t}\n// })\n// frappe.ui.form.on(\"Supplier Quotation Item\", \"qty_stock\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){    \n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*(d.qty_stock/d.qty);\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// });\n// refresh_field(\"items\");\n// })\n// // frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// // $.each(frm.doc.items || [], function(i, d) {\n// // if (d.stock_uom!=d.uom){\n// // d.conversion_factor=d.qty_stock/d.qty;\n// // }\n// // else{\n// //  d.conversion_factor=1;\n// //  d.qty_stock=d.qty;\n// // }\n// // });\n// // refresh_field(\"items\");\n// // })\n\n// frappe.ui.form.on(\"Supplier Quotation Item\", \"rate_kg\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// });\n// refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Supplier Quotation Item\", \"conversion_factor\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.qty_stock=d.qty*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.stock_qty*d.rate_kg;\n// });\n// //refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Supplier Quotation\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){\n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// });    \n\n// //});\n// refresh_field(\"items\");\n//  })\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Purchase Order",
  "enabled": 1,
  "modified": "2021-12-27 19:20:24.508210",
  "name": "Purchase Order-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on(\"Purchase Order Item\", \"qty_stock\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){    \n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*(d.qty_stock/d.qty);\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.qty_stock*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// }\n// });\n// refresh_field(\"items\");\n// })\n// // frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// // $.each(frm.doc.items || [], function(i, d) {\n// // if (d.stock_uom!=d.uom){\n// // d.conversion_factor=d.qty_stock/d.qty;\n// // }\n// // else{\n// //  d.conversion_factor=1;\n// //  d.qty_stock=d.qty;\n// // }\n// // });\n// // refresh_field(\"items\");\n// // })\n\n// frappe.ui.form.on(\"Purchase Order Item\", \"rate_kg\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.qty_stock*d.rate_kg;\n// });\n// refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Order Item\", \"conversion_factor\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n// d.qty_stock=d.qty*d.conversion_factor;\n// d.amount=d.stock_qty*d.rate_kg;\n// d.base_amount=d.stock_qty*d.rate_kg;\n// });\n// //refresh_field(\"items\");\n// })\n// frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){\n// d.conversion_factor=d.qty_stock/d.qty;\n// d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// else{\n//  d.conversion_factor=1;\n//  d.qty_stock=d.qty;\n//  d.price_list_rate=d.rate_kg*d.conversion_factor;\n// d.discount_percentage=0;\n// d.discount_amount=0;\n// d.rate=d.rate_kg*d.conversion_factor;\n\n// }\n// });    \n\n// //});\n// refresh_field(\"items\");\n//  })\n//  frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// if (d.stock_uom!=d.uom){\n// d.qty_stock=d.qty_stock;\n// }\n// });\n// })\n// frappe.ui.form.on(\"Purchase Order\", \"validate\", function(frm, cdt, cdn) {\n// $.each(frm.doc.items || [], function(i, d) {\n// d.rate=(d.rate_kg*d.conversion_factor*d.stock_qty);\n// });\n// })",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Salary Slip",
  "enabled": 1,
  "modified": "2021-12-27 21:58:42.370425",
  "name": "Salary Slip-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Salary Slip', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t}\n// })\n// frappe.ui.form.on('Salary Slip', {\n// refresh(frm){\n//  cur_frm.set_value(\"emp_working_days\", (cur_frm.doc.payment_days+cur_frm.doc.absent_days+cur_frm.doc.leave_without_pay+cur_frm.doc.unmarked_days));\n//     \t\tfrm.refresh_field(\"cur_frm.doc.emp_working_days\");\n//     },\n// \tvalidate(frm)  {\n//      cur_frm.set_value(\"emp_working_days\", (cur_frm.doc.payment_days+cur_frm.doc.absent_days+cur_frm.doc.leave_without_pay+cur_frm.doc.unmarked_days));\n//     refresh_field(\"cur_frm.doc.emp_working_days\");\n//  \t},\n \t\n//   });\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Employee",
  "enabled": 0,
  "modified": "2022-01-29 16:34:23.092781",
  "name": "Employee-Form",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "script": "// frappe.ui.form.on('Employee', {\n// \trefresh(frm) {\n// \t\t// your code here\n// \t}\n// })\n    \n// frappe.ui.form.on(\"Employee\", {\n//  branch: cur_frm.cscript.branch = function(doc, cdt, cdn){\n//  if(cur_frm.doc.branch=== 'Behala'){\n// \tcur_frm.set_value(\"naming_series\",\"B.####\");\n//  }\n//  else if(cur_frm.doc.branch == 'Dhulagadh'){\n// \tcur_frm.set_value(\"naming_series\",\"D.####\");\n//  }\n//  else if(cur_frm.doc.branch == 'HO & Other'){\n// \tcur_frm.set_value(\"naming_series\",\"H.####\");\n//  }\n//  },\n//   validate: cur_frm.cscript.branch = function(doc, cdt, cdn){\n//  if(cur_frm.doc.branch=== 'Behala'){\n// \tcur_frm.set_value(\"naming_series\",\"B.####\");\n//  }\n//  else if(cur_frm.doc.branch == 'Dhulagadh'){\n// \tcur_frm.set_value(\"naming_series\",\"D.####\");\n//  }\n//  else if(cur_frm.doc.branch == 'HO & Other'){\n// \tcur_frm.set_value(\"naming_series\",\"H.####\");\n//  }\n//  }\n//  });\t\n// frappe.ui.form.on('Employee', {\n// others_amount(frm){\n//  cur_frm.set_value(\"base\", (cur_frm.doc.basic_amount+cur_frm.doc.hra_amount+cur_frm.doc.ca_amount+cur_frm.doc.others_amount));\n//     \t\tfrm.refresh_field(\"cur_frm.doc.base\");\n//     },\n//  hra_amount(frm){\n//  cur_frm.set_value(\"base\", (cur_frm.doc.basic_amount+cur_frm.doc.hra_amount+cur_frm.doc.ca_amount+cur_frm.doc.others_amount));\n//     \t\tfrm.refresh_field(\"cur_frm.doc.base\");\n//     },    \n//   basic_amount(frm){\n//  cur_frm.set_value(\"base\", (cur_frm.doc.basic_amount+cur_frm.doc.hra_amount+cur_frm.doc.ca_amount+cur_frm.doc.others_amount));\n//     \t\tfrm.refresh_field(\"cur_frm.doc.base\");\n//     },\n//     ca_amount(frm){\n//  cur_frm.set_value(\"base\", (cur_frm.doc.basic_amount+cur_frm.doc.hra_amount+cur_frm.doc.ca_amount+cur_frm.doc.others_amount));\n//     \t\tfrm.refresh_field(\"cur_frm.doc.base\");\n//     },\n// \tvalidate(frm)  {\n//     cur_frm.doc.base=cur_frm.doc.basic_amount+cur_frm.doc.hra_amount+cur_frm.doc.ca_amount+cur_frm.doc.others_amount\n//     // cur_frm.doc.basic_amount=(cur_frm.doc.base*cur_frm.doc.basic)/100\n//   // cur_frm.doc.hra_amount=(cur_frm.doc.base*cur_frm.doc.hra)/100\n//   // cur_frm.doc.ca_amount=cur_frm.doc.ca\n//   // cur_frm.doc.others=cur_frm.doc.base-cur_frm.doc.basic_amount-cur_frm.doc.hra_amount-cur_frm.doc.ca_amount\n//     //cur_frm.doc.others_amount=cur_frm.doc.base-cur_frm.doc.basic_amount-cur_frm.doc.hra_amount-cur_frm.doc.ca_amount\n//     refresh_field(\"cur_frm.doc.base\");\n//  \t},\n \t\n//   });\n\n ",
  "view": "Form"
 }
]